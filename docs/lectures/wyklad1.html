<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Wstęp do kwantowego uczenia maszynowego - Komputery klasyczne i kwantowe</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../style.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Wstęp do kwantowego uczenia maszynowego</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../sylabus.html" rel="" target="">
 <span class="menu-text">Sylabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../ksiazki.html" rel="" target="">
 <span class="menu-text">Książki</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../lectures/wyklad1.html">Wykłady</a></li><li class="breadcrumb-item"><a href="../lectures/wyklad1.html">Komputery klasyczne i kwantowe</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Informacje ogólne</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Wykłady</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/wyklad1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Komputery klasyczne i kwantowe</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/wyklad2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Klasyczne bramki logiczne - Algebra Boola</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/wyklad3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Przestrzenie wektorowe, stany kwantowe, reprezentacja klasycznych i kwantowych bitów</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/wyklad4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kwantowe bramki logiczne w prostych algorytmach i obwodach kwantowych</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Ćwiczenia</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cwiczenia/cw1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Biblioteka Qiskit wprowadzenie</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cwiczenia/cw2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bramki jednokubitowe</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cwiczenia/cw3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bramki wielokubitowe</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cwiczenia/cw4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Algorytmy kwantowe - przegląd</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cwiczenia/cw5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Parameterized Quantum Circuit</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cwiczenia/ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kwantowy model klasyfikatora wariacyjnego</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cwiczenia/titanic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Titanic data</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sztuczna-inteligencja" id="toc-sztuczna-inteligencja" class="nav-link active" data-scroll-target="#sztuczna-inteligencja">Sztuczna inteligencja</a></li>
  <li><a href="#komputery-klasyczne" id="toc-komputery-klasyczne" class="nav-link" data-scroll-target="#komputery-klasyczne">Komputery klasyczne</a>
  <ul class="collapse">
  <li><a href="#prawo-moorea" id="toc-prawo-moorea" class="nav-link" data-scroll-target="#prawo-moorea">Prawo Moore’a</a></li>
  <li><a href="#fizyczne-klasyczne-ograniczenia-dla-procesorów" id="toc-fizyczne-klasyczne-ograniczenia-dla-procesorów" class="nav-link" data-scroll-target="#fizyczne-klasyczne-ograniczenia-dla-procesorów">Fizyczne (klasyczne) ograniczenia dla procesorów</a></li>
  </ul></li>
  <li><a href="#obliczenia-kwantowe" id="toc-obliczenia-kwantowe" class="nav-link" data-scroll-target="#obliczenia-kwantowe">Obliczenia kwantowe</a>
  <ul class="collapse">
  <li><a href="#historia-mk" id="toc-historia-mk" class="nav-link" data-scroll-target="#historia-mk">Historia MK</a></li>
  <li><a href="#historia-obliczeń-kwantowych" id="toc-historia-obliczeń-kwantowych" class="nav-link" data-scroll-target="#historia-obliczeń-kwantowych">Historia obliczeń kwantowych</a></li>
  <li><a href="#dlaczego-chcemy-używać-komputerów-kwantowych" id="toc-dlaczego-chcemy-używać-komputerów-kwantowych" class="nav-link" data-scroll-target="#dlaczego-chcemy-używać-komputerów-kwantowych">Dlaczego chcemy używać komputerów kwantowych?</a></li>
  <li><a href="#realizacja-fizyczna-komputerów-kwantowych" id="toc-realizacja-fizyczna-komputerów-kwantowych" class="nav-link" data-scroll-target="#realizacja-fizyczna-komputerów-kwantowych">Realizacja fizyczna komputerów kwantowych</a></li>
  <li><a href="#proces-obliczeń-kwantowych" id="toc-proces-obliczeń-kwantowych" class="nav-link" data-scroll-target="#proces-obliczeń-kwantowych">Proces obliczeń kwantowych</a></li>
  </ul></li>
  <li><a href="#quantum-machine-learning" id="toc-quantum-machine-learning" class="nav-link" data-scroll-target="#quantum-machine-learning">Quantum Machine Learning</a>
  <ul class="collapse">
  <li><a href="#dane-w-qml" id="toc-dane-w-qml" class="nav-link" data-scroll-target="#dane-w-qml">Dane w QML</a></li>
  <li><a href="#realizacje-problemów-biznesowych-na-komputerach-kwantowych" id="toc-realizacje-problemów-biznesowych-na-komputerach-kwantowych" class="nav-link" data-scroll-target="#realizacje-problemów-biznesowych-na-komputerach-kwantowych">Realizacje problemów biznesowych na komputerach kwantowych</a></li>
  <li><a href="#dostęp-do-obliczeń-kwantowych-w-chmurze" id="toc-dostęp-do-obliczeń-kwantowych-w-chmurze" class="nav-link" data-scroll-target="#dostęp-do-obliczeń-kwantowych-w-chmurze">Dostęp do obliczeń kwantowych w chmurze</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Komputery klasyczne i kwantowe</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<blockquote class="blockquote">
<p>Nature isn’t classical, dammit, and if you want to make a simulation of Nature, you’d better make it quantum mechanical, and by golly it’s a wonderful problem because it doesn’t look so easy. <strong>Richard Feynman</strong></p>
</blockquote>
<p><strong>Quntum Machine Learning</strong></p>
<p>Co oznacza termin <em>kwantowe uczenie maszynowe</em>?</p>
<p><strong>Uczenie maszynowe</strong> (ale również i uczenie głębokie) to nauka i ,,sztuka’’ opisująca jak sprawić by komputery mogły <em>,,uczyć się’’</em> na podstawie danych, tak by rozwiązać problemy, których typowe programowanie nie miałoby sensu (lub byłoby zbyt skomplikowane). Więcej na ten temat znajdziesz w <a href="../ksiazki#AI">książce</a></p>
<p><strong>Obliczenia kwantowe</strong> opisują przetwarzenie informacji na urządzeniach pracujących zgodnie z zasadami mechaniki kwantowej.</p>
<blockquote class="blockquote">
<p>Uwaga! klasyczne komputery (tranzystory) również działają zgodnie z zasadami mechaniki kwantowej, ale wykonywane operacje opierają się o logikę klasyczną.</p>
</blockquote>
<p>Oba kierunki są istotne w procesie przetwarzania danych obecnie i w niedalekiej przyszłości. Dlatego naturalnym pytaniem jest jak je ze sobą połączyć?</p>
<p>QML to realizowanie metod uczenia maszynowego, które mogą być wykonywane na komputerach kwantowych.</p>
<blockquote class="blockquote">
<p>you start with classical mechanics and electrodynamics, solving lots of differential equations at every step. Then you learn about the “black-body paradox” and various strange experimental results, and the great crisis these things posed for physics. Next you learn a complicated patchwork of ideas that physicists invented between 1900 and 1926 to try to make the crisis go away. Then, if you’re lucky, after years of study you finally get around to the central conceptual point: <em>that nature is described not by probabilities</em> (which are always non-negative), but by numbers called amplitudes that can be positive, negative, or even complex. Scott Aaronson, <a href="https://www.amazon.com/Quantum-Computing-since-Democritus-Aaronson/dp/0521199565">Quantum Computing Since Democritus</a></p>
</blockquote>
<p>Kwantowe uczenie maszynowe możemy określić jako uczenie maszynowe realizowane na komputerach kwantowych. Zasadniczym jest pytanie na ile i czy wogóle komputery kwantowe mogą poprawić jakość modeli uczenia maszynowego i czy pozwalają zrealizować coś więcej niż wykorzystanie klasycznych komputerów.</p>
<p><strong>Odpowiedź</strong> To zależy:</p>
<ul>
<li>jaki problem?</li>
<li>jakie dane?</li>
<li>jaki typ analizy?</li>
<li>jaki typ komputera kwantowego?</li>
<li>co znaczy lepiej? precyzja, czas, koszt, skalowalność, zużycie energii, …</li>
</ul>
<section id="sztuczna-inteligencja" class="level2">
<h2 class="anchored" data-anchor-id="sztuczna-inteligencja">Sztuczna inteligencja</h2>
<p><img class="center" src="../img/ai1.png"></p>
<p>Historia AI sięga 1950 roku (A. Turing). Rozwój technologii związanych z danymi ustrukturyzowanymi i nieustrukturyzowanymi realizowany np. w:</p>
<ul>
<li>rozpoznawanie i tworzenie ,,mowy’’</li>
<li>,,rozumienie’’ obrazów i filmów</li>
<li>rozgrywanie gier</li>
<li>rekomendacje</li>
<li>systemy diagnostyczne</li>
<li>planowanie</li>
<li>podejmowanie decyzji</li>
<li>booty, agenci …</li>
</ul>
<p>Zadania te realizowane są w oparciu o uczenie maszynowe (Machine Learning) i głębokie sieci neuronowe (Deep Learning).</p>
<p>Dlaczego tak chętnie używamy:</p>
<ul>
<li>Wykładniczy wzrost ilości (treningowych) danych dostępnych w social mediach, internecie, aplikacjach mobilnych, IoT.</li>
<li>Wzrost możliwości i spadek ceny (kosztów) jakości sprzętu komputerowego - co-procesory GPU, TPU, …</li>
<li>Oprogramowanie Open Source</li>
<li>Przewaga konkurencyjna przedsiębiorstw z AI nad firmami bez AI</li>
</ul>
<p><img src="../img/mem.jpg" class="center"></p>
<blockquote class="blockquote">
<p>Uwaga! Zakładam, że znasz podstawowe pojęcia uczenia maszynowego i głębokiego.</p>
</blockquote>
<p>Uczenie maszynowe (ang. <em>Machine Learning</em>) realizowane jest w kilku głównych kategoriach:</p>
<ol type="1">
<li><p><strong>Uczenie nadzorowane</strong> (ang. <em>supervised learning</em>) - posiadając oznaczone dane <span class="math inline">\((x_i, y_i)\)</span> szukamy funkcji <span class="math inline">\(f(x_i) = y_i\)</span> tak by uogólnić ją na nowe dane. Np. dać kredyt, czy na obrazie jest kot albo pies itp.</p></li>
<li><p><strong>Uczenie nienadzorowane</strong> (ang. <em>unsupervised learning</em>) - posiadając dane <span class="math inline">\((x_i)\)</span> szukamy ukrytych struktur w danych.</p></li>
<li><p><strong>Uczenie przez wzmacnianie</strong> (ang. <em>reinforcement learning</em>) - agent uczy się realizować zadania w środowisku na podstawie nagród i kar.</p></li>
<li><p><strong>Uczenie transferowe</strong> - to technika w uczeniu maszynowym, która polega na wykorzystywaniu wiedzy lub umiejętności nabytej w jednym zadaniu do rozwiązania innych zadań. Uczenie transferowe jest szeroko stosowane w praktyce. Np. , model językowy, który nauczył się rozpoznawać język naturalny w jednym zadaniu, może być używany do polepszania innych zadań, takich jak tłumaczenie maszynowe, analiza sentymentu czy rozpoznawanie tekstu pisanego.</p></li>
<li><p><strong>Uczenie pół-nadzorowane</strong> to podejście, które wykorzystuje zarówno dane oznaczone (gdzie mamy etykiety klas) jak i dane nieoznaczone (gdzie brakuje etykiet) do trenowania modelu.</p></li>
</ol>
</section>
<section id="komputery-klasyczne" class="level2">
<h2 class="anchored" data-anchor-id="komputery-klasyczne">Komputery klasyczne</h2>
<p><strong>Komputer</strong> to fizyczne urządzenie bazujące na <em>obwodach elektronicznych</em> (ang. electronic circuits), które służy do przetwarzania informacji.</p>
<p><img class="center" src="../img/circ.png"></p>
<p><strong>Algorytmy</strong> (programy komputerowe - ang. software) to sekwencje logicznych i matematycznych kroków, które określają sposób rozwiązywania problemu lub wykonywania obliczeń przy użyciu komputera. Są to abstrakcyjne przepisy, które programy komputerowe implementują, aby przetwarzać dane i osiągnąć konkretne cele.</p>
<section id="prawo-moorea" class="level3">
<h3 class="anchored" data-anchor-id="prawo-moorea">Prawo Moore’a</h3>
<blockquote class="blockquote">
<p>An observation that the number of transistors on microchip roughly doubles every two years, whereas its cost is halved over that same timeframe. <em>The growth of microprocessors is exponential</em></p>
</blockquote>
<p>Zwiększenie szybkości działania oraz pojemności klasycznych komputerów co dwa lata, zmniejszając przy tym koszty. W ostatnich latach obserwujemy, że to prawo zaczyna osiągać swoje ograniczenia, a dalszy wzrost mocy komputerów może być trudniejszy do osiągnięcia w tradycyjny sposób.</p>
<p><img class="center" src="../img/rys1.png"></p>
</section>
<section id="fizyczne-klasyczne-ograniczenia-dla-procesorów" class="level3">
<h3 class="anchored" data-anchor-id="fizyczne-klasyczne-ograniczenia-dla-procesorów">Fizyczne (klasyczne) ograniczenia dla procesorów</h3>
<ol type="1">
<li>Rozmiary tranzystora <span class="math inline">\(\sim\)</span> rozmiary atomów - lata 90’te <span class="math inline">\(500 nm\)</span> obecnie <span class="math inline">\(14 nm\)</span> i <span class="math inline">\(7 nm\)</span>.</li>
<li>Prędkość światła <span class="math inline">\(\sim\)</span> max prędkość przesyłu informacji.</li>
<li>Wysoki koszt wytwarzania (kierunek układów wieloprocesorowych)</li>
<li>W miarę jak tranzystory stają się coraz mniejsze, zbliżają się do skali wymiarów atomów, co prowadzi do pojawienia się efektów kwantowych, które mogą wpływać na ich zachowanie. Rozwój komputerów kwantowych stanowi próbę obejścia tych ograniczeń.</li>
<li>Wysoki pobór prądu.</li>
<li>W miarę jak komputery stają się bardziej zaawansowane i wykonują bardziej intensywne obliczenia, generują znaczne ilości ciepła. To może prowadzić do problemów z chłodzeniem i wpływać na wydajność. Ograniczenia te wymagają innowacji w zakresie chłodzenia komputerów.</li>
<li>Produkcja mikroprocesorów i układów scalonych wymaga rzadkich materiałów i zasobów, co może stanowić ograniczenie w kontekście zrównoważonego rozwoju technologii komputerowych.</li>
</ol>
<p>Dla większości praktycznych zastosowań, opis makroskopowy oraz klasyczne teorie fizyczne są wystarczające do opisu własności prądu w obwodach elektrycznych. Jednakże, gdy naszym celem jest realizacja obliczeń wykorzystujących własności mikroskopowych obiektów, okazuje się, że klasyczny opis przestaje być wystarczający. W takich przypadkach, musimy zwrócić się ku mechanice kwantowej, która jest najlepiej przetestowanym i stosowanym opisem mikroświata, jaki znamy. Komputer, który wykonuje obliczenia zgodnie z zasadami mechaniki kwantowej, nazywamy <strong>komputerem kwantowym</strong>. Dzięki swojej zdolności do wykorzystania zjawisk kwantowych, takich jak superpozycja i splątanie, komputery kwantowe mogą rozwiązywać problemy, które byłyby trudne lub niemożliwe do rozwiązania za pomocą klasycznych komputerów. Są one obiecującą technologią, która otwiera nowe możliwości w dziedzinie obliczeń i nauki.</p>
</section>
</section>
<section id="obliczenia-kwantowe" class="level2">
<h2 class="anchored" data-anchor-id="obliczenia-kwantowe">Obliczenia kwantowe</h2>
<blockquote class="blockquote">
<p>Film wprowadzający: <a href="https://www.youtube.com/watch?v=-UlxHPIEVqA">link</a></p>
</blockquote>
<p>Termin <em>Mechanika Kwantowa</em> (MK) jest używany zamiennie z terminem <em>Teoria Kwantowa</em>. Istnieją jednak teorie kwantowe, takie jak Kwantowa Teoria Pola, które wykraczają poza zakres mechaniki kwantowej.</p>
<p>MK przewiduje wyniki eksperymentów przeprowadzanych na <em>układach kwantowych</em>, tj. mikroskopowych obiektach fizycznych, dla których fizyka klasyczna nie jest wystarczająca. Przykładem może być atom wodoru. MK opisuje zachowanie obiektów takich jak fotony, elektrony lub kwantowe bity (qubity).</p>
<p>Warto zaznaczyć, że Mechanika Kwantowa jest fundamentem, na którym opiera się wiele innych teorii i dziedzin fizyki.</p>
<blockquote class="blockquote">
<p>Na naszym wykładzie nie będą interesować nas własności fizyczne kubitów a ograniczymy się do znajomości ich pewnych, abstrakcyjnych stanów w jakich mogą się one znajdować. Stany te numerowane będą liczbami naturalnymi.</p>
</blockquote>
<p>Fizyka klasyczna jest zazwyczaj rozumiana jako graniczny przypadek MK. Niemniej jednak, fizycy często starają się oddzielać te dwie dziedziny i stosować odpowiednią teorię do odpowiedniego problemu. Np, w konstrukcji mostów korzysta się z fizyki klasycznej, a nie MK.</p>
<p>Warto zaznaczyć, że wyniki MK są probabilistyczne, co często prowadzi do błędnego przekonania, że MK jest teorią statystyczną. Niemniej jednak, nie jest to prawda. Mechanikę Kwantową można raczej uznać za uogólnienie klasycznej definicji prawdopodobieństwa.</p>
<section id="historia-mk" class="level3">
<h3 class="anchored" data-anchor-id="historia-mk">Historia MK</h3>
<p>Początek Mechaniki Kwantowej związane są z pracami Maxa Plancka (1900) i Alberta Einsteina (1905), którzy wprowadzili pojęcie <em>kwantu</em> - czyli najmniejszej porcji energii. Dalszy rozwój Mechaniki Kwantowej związany jest z badaniami takich naukowców jak Niels Bohr, Erwin Schrödinger, Louis de Broglie, Heisenberg, Dirac, Feynman i wielu innych. Pozostałe informacje możesz znaleźć w <a href="https://medium.com/@warsaw.quantum/czym-są-technologie-kwantowe-13de3f3e4475">artykule o obliczeniach kwantowych</a></p>
<blockquote class="blockquote">
<p>Informatyków (najczęściej) nie interesuje, w jaki sposób właściwości fizyczne układów są wykorzystywane do przechowywania informacji w komputerze klasycznym. Podobnie, nie muszą się zastanawiać nad fizycznym mechanizmem, za pomocą którego informacja kwantowa jest realizowana w komputerze kwantowym. Czy prowadząc samochód zastanawiasz się, jak dokładnie działają wszystkie jego części? A pisząc kod modelu, zastanawiasz się, jak został on zaimplementowany w bibliotece?” Informatycy często nie muszą zagłębiać się w szczegóły fizycznej realizacji, skupiając się za to na wydajnym wykorzystaniu technologii komputerowych.</p>
</blockquote>
</section>
<section id="historia-obliczeń-kwantowych" class="level3">
<h3 class="anchored" data-anchor-id="historia-obliczeń-kwantowych">Historia obliczeń kwantowych</h3>
<ul>
<li>1936 Alan Turing opublikował pracę <a href="https://www.cs.virginia.edu/~robins/Turing_Paper_1936.pdf">On Computable Numbers</a>, która stanowiła istotny krok w kierunku teoretycznych podstaw obliczeń (Hilbert Problems) - universal computing machine <a href="../pubs/Turing_Paper_1936.pdf">local</a></li>
<li>1976 Roman S. Ingarden - <a href="https://www.sciencedirect.com/science/article/abs/pii/0034487776900057?via%3Dihub">Quantum Information Theory</a> Roman S. Ingarden wprowadził pojęcie teorii informacji kwantowej, co miało kluczowe znaczenie dla rozwoju komputerów kwantowych.</li>
<li>1980 Paul Benioff - Paul Benioff przedstawił teoretyczną koncepcję komputerów kwantowych jako fizycznych systemów, otwierając drzwi do praktycznych implementacji.</li>
<li>1981 Richard Feynman - zwrócił uwagę na to, że klasyczne komputery nie są w stanie efektywnie symulować procesów kwantowych.</li>
<li>1985 David Deutsch opracował pierwszy opis kwantowej maszyny Turinga i algorytmów przeznaczonych do uruchamiania na komputerach kwantowych, w tym bramek kwantowych.</li>
<li>1994 Peter Shor opracował algorytm faktoryzacji liczb w czasie wielomianowym, co miało znaczenie dla kryptografii i bezpieczeństwa informacji.</li>
<li>1996 Lov Grover - Lov Grover stworzył algorytm Grover’a, który okazał się wyjątkowo efektywny w przeszukiwaniu stanów kwantowych.</li>
<li>2000 Został zbudowany pierwszy komputer kwantowy (5 qubitów) oparty na nuklearnym rezonansie magnetycznym, co stanowiło ważny krok w rozwoju fizycznych platform komputerów kwantowych.</li>
<li>2001 Demonstracja algorytmu Shora potwierdziła praktyczność i znaczenie algorytmów kwantowych.</li>
<li>2007 Firma D-Wave dokonała pierwszej sprzedaży komercyjnego komputera kwantowego, co miało wpływ na rozwój technologii komputerów kwantowych w sektorze prywatnym.</li>
<li>Firma IBM dokonała znaczącego przełomu, pokazując, że klasyczne superkomputery nie są w stanie efektywnie symulować systemów zawierających więcej niż 56 kubitów, co jest znane jako “quantum supremacy.”</li>
<li>23 października 2019: Google ogłosił uzyskanie tzw. <em>quantum supremacy</em> na 53 kubitach.</li>
<li>2020 Zespół Jian-Wei Pana z University of Science and Technology of China dokonał przełomu, realizując 76 fotonowych kubitów na komputerze Jiuzhang.</li>
<li>2022 Firma Xanadu dokonała znaczących postępów w dziedzinie technologii komputerów kwantowych.</li>
<li>2023 Pierwszy logiczny qubit?</li>
</ul>
<p>Od około 1990 roku fizycy i informatycy pracują nad fizyczną realizacją komputerów kwantowych. Jednym z popularnych modeli obliczeń na komputerach kwantowych jest model oparty na <em>kwantowych obwodach</em> (ang. quantum circuit), który wykorzystuje qubity zamiast klasycznych bitów. Podobnie jak w przypadku obwodów klasycznych, w modelu kwantowym definiuje się <em>bramki kwantowe</em> (ang. quantum gates), które pozwalają na wykonywanie operacji na qubitach.</p>
<p>Fizyczna konstrukcja komputera kwantowego, a właściwie qubitu, jest zadaniem nietrywialnym, ponieważ wymaga manipulacji bardzo małym układem, który jest zazwyczaj wyjątkowo wrażliwy na wszelkie oddziaływania z otoczeniem. Efektem tego oddziaływania jest <em>pomiar</em> układu przejście do jego stanu własnego (co oznacza zniszczenie przygotowanego stanu np. superpozycji). Efekt ten nazywa się <em>dekoherencją</em>.</p>
<p><img class="center" src="../img/qiskit.jpeg"></p>
</section>
<section id="dlaczego-chcemy-używać-komputerów-kwantowych" class="level3">
<h3 class="anchored" data-anchor-id="dlaczego-chcemy-używać-komputerów-kwantowych">Dlaczego chcemy używać komputerów kwantowych?</h3>
<section id="kwantowa-złożoność-quantum-complexity" class="level4">
<h4 class="anchored" data-anchor-id="kwantowa-złożoność-quantum-complexity">Kwantowa Złożoność (Quantum Complexity)</h4>
<p>Nowy paradygmat wykorzystuje unikalne cechy <em>interferencji</em>, <em>superpozycji</em> i <em>splątania</em> w celu wykonywania obliczeń. Obecnie realizowany jest w trzech modelach:</p>
<ol type="1">
<li>Quantum Circuits (Obwody Kwantowe) - oparty na modelu bramkowym, pozwala realizować algorytmy typu QAOA, VQA, oraz metody hybrydowe.</li>
<li>Adiabatyczne Obliczenia Kwantowe (D-Wave) - polegające na minimalizacji energii, z wykorzystaniem optymalizacji QUBO i analogii do modelu Isinga.</li>
<li>Topologiczne Komputery Kwantowe - oparte na topologicznych kubitach.</li>
</ol>
<p>Problemy, które uważamy za trudne do rozwiązania klasycznie, takie jak optymalizacja, stają się łatwiejsze dla komputerów kwantowych. Przykładem moze być faktoryzacja liczb. Klasyczne komputery nie są w stanie efektywnie symulować działania kwantowych komputerów. Koszt najlepszych symulatorów rośnie wykładniczo wraz z liczbą kubitów. Możliwości komputerów kwantowych są potencjalnie ogromne, ale obecnie istnieją pewne ograniczenia <a href="https://medium.com/qiskit/what-can-a-quantum-computer-actually-do-4daed0691f6b">link</a>. Kwantowy komputer może być używany do efektywnej symulacji niemal dowolnego procesu fizycznego zachodzącego w przyrodzie, choć nie zawsze jesteśmy pewni, czy taka symulacja jest możliwa.</p>
<p>Podstawowym faktem przewagi komputerów kwantowych nad klasycznymi jest tzw. <strong>parallelizm</strong>. Ze względu, iż kubity moga znajdowac się w superpozycji stanów, komputer kwantowy może przeprowadzic obliczenia jednocześnie na wszystkich stanach. Co dokładnie to oznacza, poznamy w dalszej czesci wykładu. Rozważmy sytuację w której chcemy poznac działanie funkcji <span class="math inline">\(f(x)\)</span> dla pewnego argumentu <span class="math inline">\(x\)</span> (dla pewnej liczby). Aby znaleźc wynik dla dwóch liczb (np. <span class="math inline">\(x=0\)</span> i <span class="math inline">\(x=1\)</span>) klasyczny komputer musi wykonac dwie operacje. Komputer kwantowy może uzuskac ten wynik przeprowadzajac obliczenia jednocześnie dla obu warości. Do wykonania takiej operacji wystarczy jeden kubit. Następnie jeżeli będziemy chcieli obliczyc nasza funkcję dla kolejnych liczb <span class="math inline">\(x=2\)</span> (która binarnie reprezentowana jest jako <span class="math inline">\(10\)</span>) oraz liczby <span class="math inline">\(x=3\)</span> (binarnie <span class="math inline">\(11\)</span>) musimy dodac kolejny (jeden!) kubit. Dwa kubity moga posłużyc do realizacji czterech równoległych operacji. Jeśli rozważymy 3 kubity znowu mozemy podwoic ilośc operacji (3 kubity maja 8 stanów bazowych). Dodanie kubitu do komputera kwantowego pozwala podwoic liczbę obliczeń. W przypadku klasycznego komputera aby uzyskac taki efekt, potrzeba podwoic rownież liczbę bitów. n-kubitów moze realizowac <span class="math inline">\(2^n\)</span> równoległych obliczeń.</p>
<p>Druga istotna koncepcja jest <strong>pamięc</strong>. Klasyczne komputery (np. 64-bitowy laptop) każda liczbę moga zareprezentowac w 64-biotwej reprezentacji (rozszerzenie reprezentacji 8 bitowej). Jeśli chcemy otrzymac 4 liczby w takiej reprezentacji potrzebujemy <span class="math inline">\(4\times 64=256\)</span> bitów pamięci na twardym dysku. Dla <span class="math inline">\(M\)</span> liczb potrzebujemy zatem <span class="math inline">\(M \times 64\)</span> bitów pamięci. W przypadku komputera kwantowego operujacego na n-kubitach możemy przechowac <span class="math inline">\(2^n\)</span> różnych współczynników traktujac taki stan jako pamięc. W odróżnieniu od klasycznej pamięci, gdzie ilośc bitów pamięci jest liniowa w stosunku do ilości liczb, pamięc realizowana na kubitach jest funkcja logarytmiczna od ilości liczb.</p>
<p>Dzisiejsze Klasyczne komputery to zaawansowane maszyny zwieraja dziesiatki terabajtów pamięci i moga symulowac niewielki układy kwantowe. Obecnie najwieksze komputery potrafia symulowac ok 46 kubitów. Dla porównania obecnie IBM pozwala użytkowac komputer kwantowy oparty o 127 kubitów (a nawet 1000).</p>
</section>
<section id="kwantowa-korekcja-błędów-quantum-error-correction" class="level4">
<h4 class="anchored" data-anchor-id="kwantowa-korekcja-błędów-quantum-error-correction">Kwantowa Korekcja Błędów (Quantum Error Correction)</h4>
<p>Dekoherencja, czyli oddziaływanie z otoczeniem, niszczy stan komputera kwantowego i wprowadza błędy obliczeniowe. Istnieje potrzeba zabezpieczenia przed tym zjawiskiem. Obliczenia kwantowe wymagają tzw. korekcji błędów, która pomaga w utrzymaniu integralności obliczeń na komputerach kwantowych. Aktualnie mówimy o erze <em>Noisy Intermediate-Scale Quantum</em> (NISQ), co oznacza, że komputery kwantowe wciąż potrzebują rozwoju w zakresie korekcji błędów i stabilności.</p>
</section>
</section>
<section id="realizacja-fizyczna-komputerów-kwantowych" class="level3">
<h3 class="anchored" data-anchor-id="realizacja-fizyczna-komputerów-kwantowych">Realizacja fizyczna komputerów kwantowych</h3>
<p><a href="https://en.wikipedia.org/wiki/List_of_quantum_processors">procesory kwantowe</a></p>
<p><img class="center" src="../img/maszyny_kwantowe.png"></p>
</section>
<section id="proces-obliczeń-kwantowych" class="level3">
<h3 class="anchored" data-anchor-id="proces-obliczeń-kwantowych">Proces obliczeń kwantowych</h3>
<p>Wykonanie obliczeń związane jest z pojęciem fizycznego <em>doświadczenia</em>. Będzie się ono składać z trzech części:</p>
<ol type="1">
<li>przygotowanie (przygotuj stan kwantowy kubitów),</li>
<li>ewolucja (przeprowadź transformację za pomocą bramek kwantowych),</li>
<li>pomiar i interpretacja wyników.</li>
</ol>
<p><img class="center" src="../img/quantum_proces2.png"></p>
<p>Podobnie w informatyce i w analizach danych wykonujemy obliczenia klasyczne. przygotowujemy dane (stan początkowy); następnie wykonujemy program (ewolucja) i odczytujemy wyniki (pomiar).</p>
<blockquote class="blockquote">
<p>Nie obserwujemy tych etapów podczas codziennej interakcji z komputerem, więc nie zauważamy w sposób świadomy powyższego schematu działania. Piotr Gawron, Oscar Słowik - <a href="https://depot.ceon.pl/handle/123456789/16807">Rewolucja Stanu, Fantastyczne wprowadzenie do informatyki kwantowej.</a></p>
</blockquote>
<p>Każdy komputer kwantowy (koprocesor) musi komunikować się z podukładem klasycznym. <img class="center" src="../img/proces_kwantowy.png"></p>
</section>
</section>
<section id="quantum-machine-learning" class="level2">
<h2 class="anchored" data-anchor-id="quantum-machine-learning">Quantum Machine Learning</h2>
<section id="dane-w-qml" class="level3">
<h3 class="anchored" data-anchor-id="dane-w-qml">Dane w QML</h3>
<p><img class="center" src="../img/qml.png"></p>
<ol type="1">
<li><p>CC - Classical data using classical computers, algorytmy <a href="https://dl.acm.org/doi/10.1145/3313276.3316310">inspirowane obliczeniami kwantowymi</a></p></li>
<li><p>QC - Quantum data using classical (ML) computers. <a href="https://www.nature.com/articles/s41524-020-0282-0">link1</a>, <a href="https://www.nature.com/articles/s41534-019-0141-3">link2</a>, <a href="https://journals.aps.org/prl/abstract/10.1103/PhysRevLett.114.200501">link3</a></p></li>
<li><p>CQ - Classical data on qunatum computers. Na tym chcemy się skupić.</p></li>
<li><p>QQ - Quantum data on quantum computers. Who knows?</p></li>
</ol>
</section>
<section id="realizacje-problemów-biznesowych-na-komputerach-kwantowych" class="level3">
<h3 class="anchored" data-anchor-id="realizacje-problemów-biznesowych-na-komputerach-kwantowych">Realizacje problemów biznesowych na komputerach kwantowych</h3>
<ol type="1">
<li>Systemy obrony - <a href="https://learning.quantum-computing.ibm.com/course/practical-introduction-to-quantum-safe-cryptography/introduction-to-this-course">kryptografia</a></li>
<li>Rigetti - <a href="https://thequantuminsider.com/2021/12/07/quantum-machine-learning-may-improve-weather-forecasting/">przewidywanie pogody</a></li>
<li>NASA (QuAIL) - <a href="https://www.sciencedirect.com/science/article/pii/S0167819116301326">Kontrola lotów kosmicznych</a></li>
<li>Accenture - Finanse, logistyka, komunikacja i systemy bezpieczeństwa</li>
<li>BASF - Obliczenia molekularne w chemii kwantowej.</li>
<li>Ford <a href="https://spectrum.ieee.org/ford-signs-up-to-use-nasas-quantum-computers">link</a></li>
<li>Volkswagen <a href="https://www.volkswagenag.com/en/news/stories/2021/08/volkswagen-takes-quantum-computing-from-the-lab-to-the-factory.html">link</a></li>
<li>BMW <a href="https://www.zdnet.com/article/bmw-explores-quantum-computing-to-boost-supply-chain-efficiencies/">link</a></li>
<li>Boeing/Airbus</li>
<li>Goldman Sach / JPMorgan</li>
<li><a href="https://www.dwavesys.com/learn/customer-success-stories/">DWave</a> <a href="https://www.dwavesys.com/media/2pojgtcx/dwave_vw_case_story_v2f.pdf">DWave and VW</a></li>
<li><a href="https://www.ibm.com/quantum/case-studies">IBM Case study</a></li>
<li><a href="https://research.ibm.com/blog/utility-toward-useful-quantum">IBM 127 qubitów</a></li>
<li>Quantum Natural Language Processing <a href="https://medium.com/qiskit/an-introduction-to-quantum-natural-language-processing-7aa4cc73c674">link</a></li>
</ol>
</section>
<section id="dostęp-do-obliczeń-kwantowych-w-chmurze" class="level3">
<h3 class="anchored" data-anchor-id="dostęp-do-obliczeń-kwantowych-w-chmurze">Dostęp do obliczeń kwantowych w chmurze</h3>
<ul>
<li><a href="https://www.ibm.com/quantum/access-plans/">IBM Quantum</a> z wykorzystaniem biblioteki qiskit.</li>
<li><a href="https://pennylane.ai/">Pennylane</a> z wykorzystaniem biblioteki pennylane.</li>
<li><a href="https://quantumai.google/cirq">Cirq Google</a> z wykorzystaniem biblioteki cirq.</li>
<li><a href="https://www.dwavesys.com/build/getting-started/">D-Wave</a> - Python</li>
<li><a href="https://www.xanadu.ai">Xanadu</a> - Pennylane Python library</li>
<li><a href="https://aws.amazon.com/braket/">Amazon braket</a> - AWS Python, Julia</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>